<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Check Coach Cards for errors</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
            crossorigin="anonymous"></script>
    <script type="module">
        import init, {on_file_input_changed, version_text} from './check_cards.js'

        async function run() {
            await init();
            document.querySelector("#card-file").addEventListener('change', on_file_input_changed);
            document.querySelector("#card-folder").addEventListener('change', on_file_input_changed);
            document.querySelector("#version-info").textContent = version_text();
        }

        run();
    </script>
</head>
<body>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-7 text-left text-wrap">
            <p>
                This is a tool for checking for issues with completed Coach Cards.
                It ony works on Coach Cards generated from ISS.
                There may be issues and this will <strong>not</strong> find all errors.
                If you have questions about this tool, please contact Chris Leahy.
            </p>
            <p>
                Don't have ISS Coach Card? You can enter a card to check by hand using
                <a href="text.html">this page</a>.
            </p>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col input-group">
            <div class="mb-3">
                <label class="form-label" for="card-file">Choose file(s) to check</label>
                <input class="form-control" id="card-file" multiple
                       accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,.coachCard,.json"
                       type="file">
            </div>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col input-group">
            <div class="mb-3">
                <label class="form-label" for="card-folder">Choose folder to check</label>
                <input class="form-control" id="card-folder" type="file" webkitdirectory>
            </div>
        </div>
    </div>
    <div class="row text-left text-wrap">
        <div class="col">
            Did this tool prevent a base mark?<br>
            Does it help you sleep at night?<br>
            Consider donating to the <a
                href="https://crm.bloomerang.co/HostedDonation?ApiKey=pub_75841164-7116-11e6-9d49-0a1b37ae639f&WidgetId=510050304">USA
            Artistic Swimming Foundation!</a>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col" id="results">
        </div>
    </div>
    <div class="row">
        <div class="col">
            <footer class="small text-muted navbar navbar-fixed-bottom" id="version-info"></footer>
        </div>
    </div>
</div>
</body>
</html>
